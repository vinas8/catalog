<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demo Test v2</title>
</head>
<body>
  <h1>Testing Demo v675258e...</h1>
  <div id="error" style="color: red;"></div>
  <div id="success" style="color: green;"></div>

  <script type="module">
    const errorDiv = document.getElementById('error');
    const successDiv = document.getElementById('success');
    
    try {
      successDiv.innerHTML += '<p>‚úÖ Script started</p>';
      
      const basePath = window.location.hostname.includes('github.io') ? '/catalog' : '';
      successDiv.innerHTML += `<p>‚úÖ BasePath: ${basePath}</p>`;
      
      const cacheBuster = 'v675258e';
      successDiv.innerHTML += `<p>‚úÖ CacheBuster: ${cacheBuster}</p>`;
      
      const importPath = `${basePath}/src/modules/demo/index.js?v=${cacheBuster}`;
      successDiv.innerHTML += `<p>‚úÖ Import path: ${importPath}</p>`;
      
      const module = await import(importPath);
      successDiv.innerHTML += `<p>‚úÖ Module loaded: ${JSON.stringify(Object.keys(module))}</p>`;
      
      const { Demo } = module;
      successDiv.innerHTML += `<p>‚úÖ Demo class: ${typeof Demo}</p>`;
      
      const demo = new Demo({ 
        containerId: 'success',
        scenarios: [{
          icon: 'üß™',
          title: 'Test',
          smri: 'S0.0.0',
          description: 'Test scenario',
          steps: [{ title: 'Test step', description: 'Test' }]
        }]
      });
      successDiv.innerHTML += `<p>‚úÖ Demo instance created</p>`;
      
      demo.init();
      successDiv.innerHTML += `<p>‚úÖ Demo.init() succeeded</p>`;
      
    } catch (err) {
      errorDiv.innerHTML = `<p>‚ùå Error: ${err.message}</p><pre style="font-size: 11px;">${err.stack}</pre>`;
    }
  </script>
</body>
</html>
