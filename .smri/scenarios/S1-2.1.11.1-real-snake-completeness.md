# SMRI S1-2.1.11.1 - Real Snake Detail Completeness

**Version:** 0.7.1  
**Created:** 2026-01-03  
**Status:** âœ… IMPLEMENTED

---

## ğŸ“ Scenario ID Breakdown

- **S1** â†’ Shop Module
- **2.1** â†’ Product Detail Flow
- **11.1** â†’ KV Storage Integration
- **.1** â†’ First scenario in this category

---

## ğŸ¯ Objective

Verify that real snake products display **complete industry-standard information** in both Shop and Farm contexts using a **single shared detail view**.

---

## ğŸ“‹ Requirements

### Data Completeness (ALL REQUIRED)
For every real snake (`type: "real"`), the following fields MUST be visible:

1. **Morph name** (e.g., "Banana Het Clown")
2. **Genetics** (visual traits + hets)
   - Visual: ["Banana"]
   - Het for: ["Clown"]
   - Possible Het: [] (if applicable)
3. **Sex** (male/female/unknown)
4. **Age** (hatch date or calculated months/years)
5. **Size** (weight_grams and/or length_cm)
6. **Breeder Information**
   - Breeder name
   - Location
   - Breeder ID
   - Reputation (optional, stars)

### Architecture Requirements
- âœ… ONE shared component (`SnakeDetailModal`) for Shop AND Farm
- âœ… Same base layout, same data fields
- âœ… Context-specific additions allowed (e.g., care stats in Farm)
- âŒ NO separate implementations
- âŒ NO placeholder text
- âŒ NO omitted fields

---

## ğŸ§ª Test Procedure

### Step 1: Load Test Data
```javascript
// Use data/products-real-test.json
// 5 real snakes with complete information
```

### Step 2: Verify Shop Detail
1. Open `catalog.html`
2. Click "View Details" on a real snake
3. Verify ALL fields are visible:
   - Morph name
   - Genetics (visual + hets)
   - Sex
   - Age
   - Weight/Length
   - Breeder name, location, ID

### Step 3: Verify Farm Detail
1. Open `collection.html?user=test_user`
2. Click on an owned real snake
3. Verify SAME fields are visible as in Shop
4. Verify care stats are ADDITIONALLY shown (Farm-specific)

### Step 4: Validate Code Reuse
```bash
# Verify both pages import same component
grep "SnakeDetailModal" catalog.html collection.html
```

---

## âœ… Acceptance Criteria

### Data Criteria
- [ ] All 5 test snakes have complete genetics
- [ ] All have sex specified (not "unknown" unless intentional)
- [ ] All have age with hatch_date
- [ ] All have weight_grams or length_cm
- [ ] All have breeder.name and breeder.location

### UI Criteria
- [ ] Shop modal shows all required fields
- [ ] Farm modal shows all required fields
- [ ] Both use `SnakeDetailModal` component
- [ ] No "TODO", "Coming soon", or placeholder text
- [ ] Genetics section clearly displays visual + hets

### Code Criteria
- [ ] `SnakeDetailModal.js` is the single source
- [ ] Both `catalog.html` and `collection.html` import it
- [ ] No duplicate rendering logic

---

## ğŸ“Š Test Data

### Test Snake 1: Pudding (Ball Python)
```json
{
  "id": "real-bp-001",
  "morph": "Banana Het Clown",
  "genetics": {
    "visual": ["Banana"],
    "hets": ["Clown"]
  },
  "sex": "male",
  "age": { "hatch_date": "2024-03-15" },
  "weight_grams": 245,
  "breeder": {
    "name": "Serpent Town Breeders",
    "location": "Netherlands"
  }
}
```

### Test Snake 2: Almond (Complex Genetics)
```json
{
  "id": "real-bp-003",
  "morph": "Hurricane Butter Fire Yellow Belly Het Clown",
  "genetics": {
    "visual": ["Hurricane", "Butter", "Fire", "Yellow Belly"],
    "hets": ["Clown"]
  },
  "sex": "female",
  "age": { "hatch_date": "2024-05-10" },
  "weight_grams": 280,
  "breeder": {
    "name": "Elite Python Genetics",
    "location": "Belgium"
  }
}
```

---

## ğŸ”§ Implementation Notes

### Component Structure
```
SnakeDetailModal
â”œâ”€â”€ renderHeader() - Name, species, morph
â”œâ”€â”€ renderBasicInfo() - Species, morph, sex, age
â”œâ”€â”€ renderPhysicalStats() - Weight, length
â”œâ”€â”€ renderGeneticsSection() - Visual, hets, possible hets
â”œâ”€â”€ renderBreederSection() - Breeder name, location, ID, reputation
â”œâ”€â”€ renderCareInfo() - (Farm only) Care stats
â””â”€â”€ renderPurchaseInfo() - (Shop only) Price, buy button
```

### Context Differentiation
- **Shop context:** Shows price, "Buy Now" button
- **Farm context:** Shows care stats, "Play" button
- **Base data:** Identical in both contexts

---

## ğŸš« Anti-Patterns (Forbidden)

âŒ Separate Shop detail component and Farm detail component  
âŒ Showing different genetics in Shop vs Farm  
âŒ Placeholder text like "Genetics coming soon"  
âŒ Omitting breeder info  
âŒ Showing only visual traits without hets  

---

## ğŸ¯ Success Criteria

**Pass Condition:**
- All 5 test snakes show complete information
- Shop and Farm use same component
- No missing or placeholder data

**Fail Condition:**
- Any snake missing required field
- Different components for Shop/Farm
- Placeholder text visible

---

## ğŸ“ Related Files

- `src/components/SnakeDetailModal.js` - Shared detail component
- `catalog.html` - Shop page
- `collection.html` - Farm page
- `data/products-real-test.json` - Test data
- `debug/smri-s1-2.1.11.1-real-snake-completeness.html` - Debug test

---

**Test URL:** http://localhost:8001/debug/smri-s1-2.1.11.1-real-snake-completeness.html  
**Status:** âœ… Ready for validation
