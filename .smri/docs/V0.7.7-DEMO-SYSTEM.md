# ğŸ¬ v0.7.7 Demo System - Complete Presentation

**Version:** 0.7.7  
**Created:** 2026-01-06  
**Purpose:** Interactive browser-based demo showing complete Serpent Town journey

---

## ğŸ“ Version Strategy

**Current:** 0.7.7 (Demo & Refinement)
- Build interactive demo system
- Integrate all existing tools fluidly
- Present to website owner
- Gather requirements

**Next:** 0.8.0 (Business Requirements)
- Business analysis with owner
- Clean version with all requirements
- Prepare implementation plan

**Then:** 0.9.0 (Business Logic Complete)
- All business logic implemented
- Ready for production testing

**Finally:** 1.0.0 (MVP Launch)
- Final polished MVP
- Production ready

---

## ğŸ¯ Vision

Create an **integrated SMRI-driven demo** that shows the **complete website owner and customer journey** - from CSV import to snake purchase to farm gameplay.

**Like:** The existing `debug/smri-runner.html` but as a **polished presentation** for stakeholders.

---

## ğŸ—ï¸ Architecture

### Core Components

1. **Demo Orchestrator** (`debug/demo-orchestrator.html`)
   - Main presentation UI
   - Pipeline navigation
   - Step-by-step execution with visual feedback
   - Progress tracking
   - Auto-advance or manual control

2. **Pipeline Definitions** (`debug/demo-pipelines.js`)
   - Website Owner Journey
   - Customer Purchase Journey
   - Farm Gameplay Journey
   - Data Management Journey

3. **SMRI Integration**
   - Reuse existing `smri-runner.html` engine
   - Wrap in presentation layer
   - Live execution with visual output

---

## ğŸ“‹ Demo Pipelines

### Pipeline 1: Website Owner Setup (Data Management)

**Goal:** Show how owner sets up shop with real snakes

**Steps:**
1. âœ… Clear All Data (KV Manager)
   - Show KV Manager UI
   - Click "Clear All KV"
   - Confirm all namespaces empty

2. âœ… Import CSV (Real Snakes)
   - Upload `data/snakes-24.csv`
   - Show parser preview
   - Validate: Name, Morph, Gender, YOB, Weight

3. âœ… Create Stripe Products
   - For each CSV row â†’ Create Stripe product
   - Show API calls
   - Display Stripe dashboard

4. âœ… Sync to KV (PRODUCTS_REAL)
   - Fetch from Stripe â†’ Write to KV
   - Show KV Manager update
   - 24 products appear

5. âœ… Set Prices
   - Batch price update
   - Default â‚¬150 or custom
   - Generate Stripe payment links

6. âœ… Verify Shop Live
   - Open `catalog.html`
   - Show 24 snakes for sale
   - All prices displayed

**SMRI:** `S1-OWNER-SETUP`

---

### Pipeline 2: Customer Purchase Journey

**Goal:** Show complete customer flow from browse to own

**Steps:**
1. âœ… Browse Catalog
   - Open `catalog.html`
   - Filter by species
   - View snake details

2. âœ… Select Snake
   - Click "Buy Now - â‚¬150"
   - Redirects to Stripe checkout

3. âœ… Complete Payment
   - Fill Stripe test payment
   - Card: 4242 4242 4242 4242
   - Success â†’ Redirect to success.html

4. âœ… Webhook Processing
   - Stripe webhook â†’ Worker
   - Create user hash
   - Assign snake to user
   - Update PRODUCT_STATUS (sold)
   - Write USER_PRODUCTS

5. âœ… View Collection
   - User lands on `success.html`
   - Shows purchased snake
   - Click "Go to Game"

6. âœ… Snake in Farm
   - `game.html` loads
   - Snake appears in farm
   - Ready for care

**SMRI:** `S1-CUSTOMER-PURCHASE`

---

### Pipeline 3: Farm Gameplay Journey

**Goal:** Show snake care and tutorial flow

**Steps:**
1. âœ… Initial Snake State
   - Show snake stats
   - Hunger: 50/100
   - Health: 100/100
   - Age: 0 days

2. âœ… Feed Snake
   - Click "Feed"
   - Hunger increases
   - Animation plays

3. âœ… Tutorial Triggers
   - First feed â†’ Tutorial popup
   - Educational content
   - Progress tracking

4. âœ… Daily Care Cycle
   - 24 hours pass (simulated)
   - Hunger decreases
   - Return to care

5. âœ… Missed Care
   - 48 hours pass
   - Health decreases
   - Warning appears

6. âœ… Collection View
   - Switch to collection tab
   - All owned snakes listed
   - Stats summary

**SMRI:** `S2-FARM-GAMEPLAY`

---

### Pipeline 4: Data Management (Advanced)

**Goal:** Show backend CRUD operations

**Steps:**
1. âœ… KV Manager
   - List all namespaces
   - View keys
   - Edit values
   - Delete items

2. âœ… Stripe Manager
   - List products
   - Update prices
   - Archive sold items

3. âœ… User Manager
   - List users
   - View purchases
   - Grant test snakes

4. âœ… Cache System
   - Show localStorage
   - Test performance (19s â†’ 10ms)
   - Clear cache

5. âœ… Sync Operations
   - Stripe â†’ KV
   - KV â†’ localStorage
   - Verify consistency

**SMRI:** `S5-DATA-MANAGEMENT`

---

## ğŸ¨ UI Design

### Demo Orchestrator Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ Serpent Town v0.8.0 - Live Demo        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  [Pipeline Selection]                       â”‚
â”‚  â— Website Owner Setup                      â”‚
â”‚  â—‹ Customer Purchase Journey                â”‚
â”‚  â—‹ Farm Gameplay Journey                    â”‚
â”‚  â—‹ Data Management (Advanced)               â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 40%        â”‚
â”‚  Step 2 of 5: Import CSV                    â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [Live Output Window]                â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ âœ… CSV loaded: 24 snakes            â”‚   â”‚
â”‚  â”‚ â³ Validating data...               â”‚   â”‚
â”‚  â”‚ âœ… All rows valid                   â”‚   â”‚
â”‚  â”‚ ğŸš€ Creating Stripe products...      â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  [â—„ Previous]  [â¸ Pause]  [Next â–º]         â”‚
â”‚  [Auto-advance: ON]  [Speed: 1x]           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

- **Visual Progress Bar** - Show completion %
- **Step Indicators** - Current vs Total
- **Live Output** - Real API responses
- **Auto-advance** - Configurable timing
- **Manual Control** - Prev/Next buttons
- **Speed Control** - 0.5x, 1x, 2x, 5x
- **Checkpoint System** - Save/restore state

---

## ğŸ”§ Implementation Plan

### Phase 1: Core Engine (1 day)
- [ ] Create `demo-orchestrator.html`
- [ ] Define pipeline data structure
- [ ] Build step executor
- [ ] Add progress tracking

### Phase 2: Pipeline Integration (1 day)
- [ ] Integrate existing SMRI runner
- [ ] Add KV Manager calls
- [ ] Add Stripe operations
- [ ] Add localStorage sync

### Phase 3: UI Polish (1 day)
- [ ] Design presentation layout
- [ ] Add animations
- [ ] Step-by-step highlights
- [ ] Error handling

### Phase 4: Pipeline Definitions (1 day)
- [ ] Website Owner Setup pipeline
- [ ] Customer Purchase pipeline
- [ ] Farm Gameplay pipeline
- [ ] Data Management pipeline

### Phase 5: Testing & Documentation (1 day)
- [ ] Test all pipelines end-to-end
- [ ] Add keyboard shortcuts
- [ ] Write user guide
- [ ] Record video demo

---

## ğŸ“¦ File Structure

```
debug/
â”œâ”€â”€ demo-orchestrator.html          # Main demo UI
â”œâ”€â”€ demo-pipelines.js               # Pipeline definitions
â”œâ”€â”€ demo-engine.js                  # Step execution engine
â”œâ”€â”€ demo-styles.css                 # Presentation styling
â”œâ”€â”€ pipelines/
â”‚   â”œâ”€â”€ owner-setup.js              # Pipeline 1
â”‚   â”œâ”€â”€ customer-purchase.js        # Pipeline 2
â”‚   â”œâ”€â”€ farm-gameplay.js            # Pipeline 3
â”‚   â””â”€â”€ data-management.js          # Pipeline 4
â””â”€â”€ assets/
    â”œâ”€â”€ icons/                      # Step icons
    â””â”€â”€ screenshots/                # Expected outputs
```

---

## ğŸ¬ Pipeline Definition Format

```javascript
{
  id: 'owner-setup',
  name: 'Website Owner Setup',
  description: 'Import CSV, sync to Stripe & KV, launch shop',
  estimatedTime: '5 minutes',
  steps: [
    {
      id: 'clear-kv',
      title: 'Clear All Data',
      type: 'api-call',
      method: 'POST',
      url: '/clear-kv-all',
      expectedResponse: { success: true, totalKeysDeleted: 49 },
      visualize: 'kv-manager',
      duration: 2000
    },
    {
      id: 'import-csv',
      title: 'Import CSV',
      type: 'file-upload',
      file: 'data/snakes-24.csv',
      parser: 'csv-to-json',
      validator: 'snake-schema',
      expectedCount: 24,
      visualize: 'csv-preview',
      duration: 3000
    },
    {
      id: 'create-stripe',
      title: 'Create Stripe Products',
      type: 'batch-api',
      forEach: 'csvData',
      method: 'POST',
      url: '/stripe/products',
      expectedCount: 24,
      visualize: 'stripe-dashboard',
      duration: 5000
    }
  ]
}
```

---

## ğŸš€ Launch Command

```bash
# Open demo in browser
open http://localhost:8000/debug/demo-orchestrator.html

# Select pipeline
# Click "â–¶ Start Demo"
# Watch automated execution
```

---

## ğŸ¯ Success Metrics

- âœ… All 4 pipelines execute without errors
- âœ… Visual feedback at every step
- âœ… Auto-advance works smoothly
- âœ… Can pause/resume at any step
- âœ… Checkpoint system saves progress
- âœ… Works on localhost and production
- âœ… Mobile-friendly presentation mode

---

## ğŸ“ Next Steps

1. **Review this plan** with stakeholders
2. **Approve pipeline definitions**
3. **Start Phase 1** implementation
4. **Iterate based on feedback**
5. **Record demo video** for v0.8.0 release

---

**Status:** ğŸ“‹ Planning Phase  
**Next:** Create `demo-orchestrator.html` skeleton
